<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <div class="register box no-border" style="display: none" data-set="1-4">
    <div class="box-body">
      <label class="text-uppercase">Econom&#237;a Pol&#237;tica (ECO-0220)</label>
      <span class="pull-right">Cupo: &nbsp;7/45</span><br />
      <span>C-203: LUN A VIE 11:00-14:00</span><br />
      <span>Presencial</span> &nbsp;-&nbsp; <span>Medio D&#237;a</span><br />
    </div>
    <div class="box-footer">
      <div>
        <span style="font-weight: normal; cursor: pointer" class="btn-more-details" data-status="true"><span
            class="fa fa-plus"></span> Mostar más</span>

        <button class="btn btn-sm btn-primary pull-right" disabled>
          Registrar
        </button>
      </div>
      <div style="display: none; padding: 10px">
        <table>
          <tbody>
            <tr style="border: none">
              <th class="text-right"><b>Costo: &nbsp;</b></th>
              <td>Bs. 460</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Grupo: &nbsp;</b></th>
              <td>C</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Docente: &nbsp;</b></th>
              <td>Romero Diego Thunupa</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Semestre: &nbsp;</b></th>
              <td>SEGUNDO SEMESTRE</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="register box no-border" style="display: none" data-set="1-1">
    <div class="box-body">
      <label class="text-uppercase">Derecho Civil I (DER-0300)</label>
      <span class="pull-right">Cupo: &nbsp;5/40</span><br />
      <span>A-305: LUN A VIE 07:30-10:45</span><br />
      <span>Presencial</span> &nbsp;-&nbsp; <span>Ma&#241;ana</span><br />
    </div>
    <div class="box-footer">
      <div>
        <span style="font-weight: normal; cursor: pointer" class="btn-more-details" data-status="true"><span
            class="fa fa-plus"></span> Mostar más</span>

        <button class="btn btn-sm btn-primary pull-right" disabled>
          Registrar
        </button>
      </div>
      <div style="display: none; padding: 10px">
        <table>
          <tbody>
            <tr style="border: none">
              <th class="text-right"><b>Costo: &nbsp;</b></th>
              <td>Bs. 460</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Grupo: &nbsp;</b></th>
              <td>D</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Docente: &nbsp;</b></th>
              <td>Padilla Miguel Angel</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Semestre: &nbsp;</b></th>
              <td>SEGUNDO SEMESTRE</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>


  <div class="register box no-border" style="display: none" data-set="1-1">
    <div class="box-body">
      <label class="text-uppercase">Derecho Civil I (DER-0300)</label>
      <span class="pull-right">Cupo: &nbsp;0/0</span><br />
      <span>A-306: LUN A VIE 07:30-10:45</span><br />
      <span>Presencial</span> &nbsp;-&nbsp; <span>Ma&#241;ana</span><br />
    </div>
    <div class="box-footer">
      <div>
        <span style="font-weight: normal; cursor: pointer" class="btn-more-details" data-status="true"><span
            class="fa fa-plus"></span> Mostar más</span>

        <button class="btn btn-sm btn-primary pull-right" disabled>
          Registrar
        </button>
      </div>
      <div style="display: none; padding: 10px">
        <table>
          <tbody>
            <tr style="border: none">
              <th class="text-right"><b>Costo: &nbsp;</b></th>
              <td>Bs. 460</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Grupo: &nbsp;</b></th>
              <td>E</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Docente: &nbsp;</b></th>
              <td>Delfin Giovanna Maritza</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Semestre: &nbsp;</b></th>
              <td>SEGUNDO SEMESTRE</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="register box box-success" style="display: none" data-set="1-3">
    <div class="box-body">
      <label class="text-uppercase">Derecho Penal I (DER-0401)</label>
      <span class="pull-right">Cupo: &nbsp;28/40</span><br />
      <span>A-406: LUN A VIE 19:00-22:00</span><br />
      <span>Presencial</span> &nbsp;-&nbsp; <span>Noche</span><br />
    </div>
    <div class="box-footer">
      <div>
        <span style="font-weight: normal; cursor: pointer" class="btn-more-details" data-status="true"><span
            class="fa fa-plus"></span> Mostar más</span>

        <button class="btn btn-sm btn-primary pull-right" disabled>
          Registrar
        </button>
      </div>
      <div style="display: none; padding: 10px">
        <table>
          <tbody>
            <tr style="border: none">
              <th class="text-right"><b>Costo: &nbsp;</b></th>
              <td>Bs. 460</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Grupo: &nbsp;</b></th>
              <td>F</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Docente: &nbsp;</b></th>
              <td>Zeballos Edson</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Semestre: &nbsp;</b></th>
              <td>SEGUNDO SEMESTRE</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="register box box-success" data-set="1-3">
    <div class="box-body">
      <label class="text-uppercase">Derecho Penal I (DER-0401)</label>
      <span class="pull-right">Cupo: &nbsp;0/0</span><br />
      <span>A-403: LUN A VIE 19:00-22:00</span><br />
      <span>Presencial</span> &nbsp;-&nbsp; <span>Noche</span><br />
    </div>
    <div class="box-footer">
      <div>
        <span style="font-weight: normal; cursor: pointer" class="btn-more-details" data-status="true"><span
            class="fa fa-plus"></span> Mostar más</span>

        <button class="btn btn-sm btn-primary pull-right" disabled>
          Registrar
        </button>
      </div>
      <div style=" padding: 10px">
        <table>
          <tbody>
            <tr style="border: none">
              <th class="text-right"><b>Costo: &nbsp;</b></th>
              <td>Bs. 460</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Grupo: &nbsp;</b></th>
              <td>G</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Docente: &nbsp;</b></th>
              <td>Aguila Beymar Eduardo</td>
            </tr>
            <tr style="border: none">
              <th class="text-right"><b>Semestre: &nbsp;</b></th>
              <td>SEGUNDO SEMESTRE</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>


  <script>
    const options = {
      method: 'GET',
      headers: {
        'Content-Type': 'application/json',
        'Cookie': 'ASP.NET_SessionId=zz2obn5np5ek3r1hrkatsbls; __RequestVerificationToken_L3VwZHNuZXQvNS440=8-rdfVo3N5HZiu4eqijXOs68BCFAGLLll4xlZjLd4M-UUHDB835Q0g-EeB1rsc3viBiRU1nnChqQWl3fkRkbojau2Taq2j82MofXlDgRUCo1; updssede=Hu4MGwTBG/wBqs8zOHrfJA==; updstype=/cIR60L1a/TEE+IhdqkH8Q==; updsuser=vNBYusKqQfWzcFGUPDXmJA==; updsusvc=afvczEC1+lN1AOoBugS1vCji4mduD6nkaxQX2woETpctVrpGd6vLvkUPAkjPk+ff' // Reemplaza 'tu-cookie-aqui' con el valor real de la cookie que deseas enviar
      },
      /*  body: JSON.stringify({
         "IdSede": "2",
         "Inscripcion": "23599"
       }) */
      // Puedes incluir el cuerpo de la solicitud si es necesario (por ejemplo, si estás enviando datos JSON)
      // body: JSON.stringify({ key: 'value' })
    };


    const llamda = async () => {

      // const response = await fetch(`https://portal.upds.edu.bo/updsnet/5.8/home/materiasofertadas/316?insc=24599&se=1&turn=3&sen=2&_date=${new Date().toISOString()}`, options)
      const proxyUrl = 'http://localhost:3000/proxy';

      const url = `updsnet/5.8/home/materiasofertadas/316?insc=24599&se=1&turn=3&sen=2&_date=${new Date().toISOString()}`;

      try {
        //     const response = await fetch(`${proxyUrl}/${url}`, options);
        const response = await fetch(`https://www.wikipedia.org`, {
          method: 'GET',
          headers: {

            'Content-Type': 'application/json',
            'Cookie': 'ASP.NET_SessionId=zz2obn5np5ek3r1hrkatsbls; __RequestVerificationToken_L3VwZHNuZXQvNS440=8-rdfVo3N5HZiu4eqijXOs68BCFAGLLll4xlZjLd4M-UUHDB835Q0g-EeB1rsc3viBiRU1nnChqQWl3fkRkbojau2Taq2j82MofXlDgRUCo1; updssede=Hu4MGwTBG/wBqs8zOHrfJA==; updstype=/cIR60L1a/TEE+IhdqkH8Q==; updsuser=vNBYusKqQfWzcFGUPDXmJA==; updsusvc=afvczEC1+lN1AOoBugS1vCji4mduD6nkaxQX2woETpctVrpGd6vLvkUPAkjPk+ff' // Reemplaza 'tu-cookie-aqui' con el valor real de la cookie que deseas enviar
          },

        });

        const data = await response.json();
        console.log(data);
      } catch (error) {
        console.error('Error al realizar la solicitud:', error);
      }
    }
    document.addEventListener('DOMContentLoaded', function () {
      // Obtener todos los elementos con la clase '.register'
      var contenedores = document.querySelectorAll('.register');

      // Array para almacenar los objetos resultantes
      var resultados = [];

      // Iterar sobre los contenedores
      contenedores.forEach(function (contenedor) {
        // Obtener datos del contenedor actual
        var materia = contenedor.querySelector('.box-body label').textContent.trim();
        //   console.log(materia)
        var cupoContent = contenedor.querySelectorAll('.box-body span')[0].textContent.trim();
        var cupoPartes = cupoContent.split(':');

        var cupo = cupoPartes[1].trim();

        //  console.log(cupo)
        //  console.log(contenedor.querySelectorAll('.box-body span'))
        var aula = contenedor.querySelectorAll('.box-body span')[1].textContent.trim();
        //  console.log(aula)
        var modalidad = contenedor.querySelectorAll('.box-body span')[2].textContent.trim();
        // console.log(modalidad)
        var turno = contenedor.querySelectorAll('.box-body span')[3].textContent.trim();
        //      console.log(turno)

        var footerDetail = contenedor.querySelectorAll('.box-footer table td')

        var costo = footerDetail[0].textContent.trim();
        var grupo = footerDetail[1].textContent.trim();
        var docente = footerDetail[2].textContent.trim();
        var semestre = footerDetail[3].textContent.trim();

        // Crear objeto con los datos obtenidos
        var objetoDatos = {
          materia: materia,
          cupo: cupo,
          aula: aula,
          turno: turno,
          costo: costo,
          grupo: grupo,
          docente: docente,
          semestre: semestre
        };
        // Agregar el objeto al array de resultados
        resultados.push(objetoDatos);
      });

      // Mostrar los resultados en la consola (puedes hacer lo que quieras con 'resultados' aquí)
      //   console.log(resultados);

      llamda()
    });
  </script>

  <!-- 

    <input type="hidden" id="url_register_print" value="/updsnet/5.8/home/ComprobantePrint/" />
					<input type="hidden" id="se-turn-def" value="1-3" />
					<input type="hidden" id="url_send_register" value="/updsnet/5.8/home/registerCourse/24599" />
					<script>
						$(document).ready(function () {
            $('.btn-turn.btn-primary').trigger('click');//$('.register.box[data-set="' + ($('#se-turn-def').val()) + '"]').show(200);
            $('.btn-more-details').click(function () {
                $(this).children('span').toggleClass('fa-plus').toggleClass('fa-minus');
                if ($(this).data('status')) {
                    $(this).data('status', false);
                    $(this).parent().next('div').show();
                    //$(this).next('button').show(100);
                } else {
                    $(this).data('status', true);
                    $(this).parent().next('div').hide();
                    //$(this).next('button').hide(100);
                }
            });
        });
					</script>
   -->
</body>

</html>